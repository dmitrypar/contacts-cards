(this["webpackJsonpcontacts-cards"]=this["webpackJsonpcontacts-cards"]||[]).push([[0],{12:function(e,t,a){e.exports=a(25)},17:function(e,t,a){},24:function(e,t,a){},25:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(4),l=a.n(s),c=(a(17),a(1)),o=a(5),i=(a(24),function(e){var t=e.isOpen,a=e.onClose,s=e.loadedCurrentUserData,o=e.editUserDataSender,i=e.deleteButtonHandler,u=e.newUserId,d=s.email,m=s.avatar,p=s.first_name,g=s.last_name,b=s.id,f=Object(n.useState)(p),U=Object(c.a)(f,2),E=U[0],v=U[1],h=Object(n.useState)(g),N=Object(c.a)(h,2),C=N[0],D=N[1],O=Object(n.useState)(d),j=Object(c.a)(O,2),P=j[0],S=j[1],y=Object(n.useState)(m),L=Object(c.a)(y,2),_=L[0],k=L[1];return t?l.a.createPortal(r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"modalSkin"}),r.a.createElement("div",{className:"modalContainer",tabIndex:"1"},r.a.createElement("div",{className:"modalWraper"},r.a.createElement("div",{className:"modalTop"},r.a.createElement("div",{className:"closeBtn"},r.a.createElement("button",{onClick:a},r.a.createElement("div",{className:"xrest"},"\u2716"))),r.a.createElement("div",{className:"modalContent"},r.a.createElement("form",{className:"modalContentGroupe"},r.a.createElement("div",{className:"modalAvatar"},b!==u?r.a.createElement("img",{src:m,alt:"avatar"}):r.a.createElement("div",{className:"yourAvatar"},r.a.createElement("span",{role:"img","aria-label":"smile"},"\ud83d\ude42"))),r.a.createElement("div",{className:"modalInput"},r.a.createElement("div",{className:"avatar input"},r.a.createElement("input",{type:"text",defaultValue:m,onChange:function(e){k(e.target.value)}}),r.a.createElement("span",{className:"labelInput"},"avatar link")),r.a.createElement("div",{className:"firstName input"},r.a.createElement("input",{type:"text",defaultValue:p,onChange:function(e){v(e.target.value)}}),r.a.createElement("span",{className:"labelInput"},"first name")),r.a.createElement("div",{className:"lastName input"},r.a.createElement("input",{type:"text",defaultValue:g,onChange:function(e){D(e.target.value)}}),r.a.createElement("span",{className:"labelInput"},"last name")),r.a.createElement("div",{className:"email input"},r.a.createElement("input",{type:"text",defaultValue:d,onChange:function(e){S(e.target.value)}}),r.a.createElement("span",{className:"labelInput"},"email")))))),r.a.createElement("div",{className:"modalButtons"},r.a.createElement("button",{type:"button",className:"btn btn-outline-secondary",onClick:function(){return i(b)}},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"),r.a.createElement("button",{type:"submit",className:"btn btn-outline-primary",onClick:function(){o({firstNameChanged:E,lastNameChanged:C,emailChanged:P,avatarLink:_},b)}},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"))))),document.getElementById("portal")):null});var u=function(e){var t=e.selectedPageNumber,a=e.loadedUsersList,n=e.pages,s=e.onPageSelectedHandler,l=e.onUserButtonClick,c=e.isModalOpen,o=e.setIsModalOpen,u=e.loadedCurrentUserData,d=e.editUserDataSender,m=e.deleteButtonHandler,p=e.onNewUserBtnClick;return r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},a.map((function(e){return r.a.createElement("div",{className:"col-md-4 col-sm-6 col-xs-12 loadedcarts ",key:e.email},r.a.createElement("button",{type:"button",className:"btn",onClick:function(){return l(e.id)}},r.a.createElement("img",{src:e.avatar,alt:"avatar"})),u.id===e.id||9999===u.id?r.a.createElement(i,{loadedCurrentUserData:u,isOpen:c,editUserDataSender:d,deleteButtonHandler:m,newUserId:9999,onClose:function(){return o(!1)}},"NewModal"):"")}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col fornewcart"},r.a.createElement("button",{type:"button",className:"btn btn-primary addUserBtn",onClick:p},r.a.createElement("span",{className:"plus",role:"img","aria-label":"plus"},"+")))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col paginator"},n.map((function(e){return r.a.createElement("span",{key:e,onClick:function(){return s(e)},className:e===t?"selectedPage":""},e)}))))))},d={baseURL:"https://reqres.in/api/users",endSlashURL:"/",getUsersListAPI:function(e){return fetch(this.baseURL+"?page="+e)},getCurrentUserInfo:function(e){return fetch(this.baseURL+this.endSlashURL+e)},editCurrentUserData:function(e,t,a){var n={method:t,body:JSON.stringify(a),headers:{"Content-type":"application/json; charset=UTF-8"}};return fetch(this.baseURL+this.endSlashURL+e,n)},deleteCurrentUser:function(e){return fetch(this.baseURL+this.endSlashURL+e,{method:"DELETE",headers:{"Content-type":"application/json; charset=UTF-8"}})}},m=Object(o.b)((function(e){var t=e.data,a=e.currentUser;return{loadedUsersList:t.loadedData,isloadingData:t.isloadingData,userPerPageCount:t.userPerPageCount,totalPagesCount:t.totalPagesCount,totalUsersCount:t.totalUsersCount,selectedPageNumber:t.selectedPageNumber,loadedCurrentUserData:a.currentUserData}}),{setData:function(e){return{type:"SET_DATA_LIST",payload:{loadedData:e}}},onPageSelected:function(e){return{type:"SET_PAGE_NUMBER",payload:{pageNumber:e}}},loadCurrentUser:function(e){return{type:"LOAD_USER",payload:{currentUserData:e}}},cleanUserData:function(){return{type:"CLEAN_USER"}}})((function(e){var t=e.isloadingData,a=e.loadedUsersList,s=e.setData,l=e.totalUsersCount,o=e.userPerPageCount,i=e.selectedPageNumber,m=e.onPageSelected,p=e.loadCurrentUser,g=e.loadedCurrentUserData,b=e.cleanUserData,f=Object(n.useState)(!1),U=Object(c.a)(f,2),E=U[0],v=U[1],h=Object(n.useState)(!1),N=Object(c.a)(h,2),C=N[0],D=N[1],O=Object(n.useState)(i),j=Object(c.a)(O,2),P=j[0],S=j[1],y=Object(n.useState)("PUT"),L=Object(c.a)(y,2),_=L[0],k=L[1],w=Object(n.useState)(""),I=Object(c.a)(w,2),B=I[0],R=I[1];Object(n.useEffect)((function(){t&&(v(!0),d.getUsersListAPI(P).then((function(e){return e.json()})).then((function(e){s(e)})))}),[E,t,s,P]);var T=function(e,t){for(var a=[],n=e/t,r=1;r<n+1;r++)a.push(r);return a}(l,o);return r.a.createElement(u,{selectedPageNumber:i,loadedUsersList:a,pages:T,onPageSelectedHandler:function(e){m(e),S(e)},onUserButtonClick:function(e){D(!0),R(e),k("PUT"),d.getCurrentUserInfo(e).then((function(e){return e.json()})).then((function(e){p(e)})).catch((function(e){return console.log(e)}))},isModalOpen:C,setIsModalOpen:D,loadedCurrentUserData:g,editUserDataSender:function(e,t){var a={first_name:e.firstNameChanged,last_name:e.lastNameChanged,email:e.emailChanged,avatar:e.avatarLink};d.editCurrentUserData(B,_,a).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))},deleteButtonHandler:function(e){console.log("delete",a.first_name),d.deleteCurrentUser(e).then((function(e){return e.text()})).catch((function(e){return console.log(e)}))},onNewUserBtnClick:function(){k("POST"),R(""),D(!0),b()}})}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var p=a(3),g=a(11),b=a(2),f={loadedData:[],userPerPageCount:"",totalUsersCount:"",totalPagesCount:"",selectedPageNumber:1,isloadingData:!0},U={currentUserData:{},isloadingUserData:!0},E=Object(p.combineReducers)({data:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0,a=t.payload,n=t.type;switch(n){case"SET_DATA_LIST":return Object(b.a)(Object(b.a)({},e),{},{loadedData:a.loadedData.data,isloadingData:!1,selectedPageNumber:a.loadedData.page,userPerPageCount:a.loadedData.per_page,totalUsersCount:a.loadedData.total,totalPagesCount:a.loadedData.total_pages});case"SET_PAGE_NUMBER":return Object(b.a)(Object(b.a)({},e),{},{isloadingData:!0,selectedPageNumber:a.pageNumber});default:return e}},currentUser:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=arguments.length>1?arguments[1]:void 0,a=t.payload,n=t.type;switch(n){case"LOAD_USER":return Object(b.a)(Object(b.a)({},e),{},{currentUserData:a.currentUserData.data,isloadingUserData:!1});case"CLEAN_USER":return Object(b.a)(Object(b.a)({},e),{},{currentUserData:{avatar:"",email:"",first_name:"",id:9999,last_name:""},isloadingUserData:!1});default:return e}}}),v=Object(p.createStore)(E,Object(g.composeWithDevTools)());l.a.render(r.a.createElement(o.a,{store:v},r.a.createElement(m,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[12,1,2]]]);
//# sourceMappingURL=main.b594ae5f.chunk.js.map